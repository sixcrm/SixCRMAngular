<div *ngIf="transaction" class="container">

  <div class="title" [class.chargeback]="transaction.chargeback || transaction.isError()" [class.decline]="transaction.isDecline()" [class.decline]="transaction.isSoftDecline()">
    Transaction {{transaction.alias}}
  </div>

  <div class="body">

    <div class="item">
      <div class="key">Status</div>
      <div class="value">
        <mat-icon class="icon" [class.icon--chargeback]="transaction.chargeback || transaction.isError() || transaction.isDecline() || transaction.isSoftDecline()">{{transaction.chargeback || transaction.isError() ? 'error' : transaction.isDecline() || transaction.isSoftDecline() ? 'block' : 'done'}}</mat-icon>
        {{transaction.processorResponse.message}}
      </div>
    </div>

    <div class="item">
      <div class="key">Transaction Date</div>
      <div class="value">{{transaction.createdAt | formatDateTime: 'MM/DD/YYYY h:mm A'}}</div>
    </div>

    <div class="item">
      <div class="key">Type</div>
      <div class="value value--capitalized">{{transaction.type}}</div>
    </div>

    <div class="item">
      <div class="key">Card</div>
      <div class="value value--capitalized">{{transaction.creditCard.type}} **** {{transaction.creditCard.lastFour}}</div>
    </div>

    <div class="item">
      <div class="key">Amount</div>
      <div class="value">{{transaction.amount.usd()}}</div>
    </div>


    <div class="item">
      <div class="key">Response</div>
      <div class="value">{{transaction.processorResponse.body}}</div>
    </div>
  </div>

  <div class="buttons">
    <button mat-button (click)="close()">DONE</button>
  </div>
</div>
