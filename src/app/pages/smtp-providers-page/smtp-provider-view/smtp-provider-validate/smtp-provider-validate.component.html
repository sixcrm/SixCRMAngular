<div class="entity-view__card smtp-validation">
  <div class="entity-view__card__header">
    <div class="entity-view__card__header__title">{{'SMTP_VALIDATE_TITLE' | translate}}</div>
  </div>

  <div class="flex-custom">

    <div class="smtp-validation__container entity-view__card__content">
      <div class="smtp-validation__explanation"> {{'SMTP_VALIDATE_TEXT' | translate}} '{{entity.fromEmail}}'.
        <br><br> {{'SMTP_VALIDATE_TEXTSECOND' | translate}}</div>

      <md-input-container [class.error]="emailInvalid && !validEmail()" class="entity-view__card__content__item">
        <input md-input required placeholder="{{'SMTP_VALIDATE_EMAIL' | translate}}" (keydown)="checkKey($event, validationEmail)" [(ngModel)]="validationEmail" type="text">
      </md-input-container>
      <div class="input-error-message" *ngIf="emailInvalid && !validEmail()">{{'SMTP_VALIDATE_EMAILTIP' | translate}}</div>

    </div>

    <div class="smtp-validation__container smtp-validation__container--results entity-view__card__content">
      <div class="smtp-validation__results">
        <textarea #responseMessage
                  [style.color]="!validationResponse ? 'grey' : (validationSuccess ? '#316537' : '#C31313')"
                  rows="9"
                  class="validation__explanation--message"
                  value="{{validationResponse || ('SMTP_VALIDATE_RESPONSE' | translate)}}"
                  readonly>
        </textarea>
      </div>
      <md-icon *ngIf="!validationInProgress && !!validationResponse" md-tooltip="Copy to clipboard" (click)="copyUrlToClipboard(responseMessage)">content_copy</md-icon>
    </div>
  </div>

  <div class="entity-view__card__actions">
    <div (click)="validateProvider()">{{'SMTP_VALIDATE_VALIDATE' | translate}}</div>
  </div>
</div>
