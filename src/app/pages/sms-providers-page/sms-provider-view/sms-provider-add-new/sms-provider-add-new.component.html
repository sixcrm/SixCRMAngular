<div class="entity-view__card" [class.entity-view__card--create]="mode === modes.Add">
  <div class="entity-view__card__header">
    <div class="entity-view__card__header__title">{{(mode === modes.Add ? 'Create new SMS Provider' : 'SMS Provider Details')}}</div>
    <ng-container *ngIf="mode !== modes.Add">
      <mat-icon [matMenuTriggerFor]="editOptions">more_vert</mat-icon>
      <mat-menu #editOptions="matMenu" x-position="before">
        <button *ngIf="mode !== modes.Add" mat-menu-item (click)="enterEditMode()">Edit SMS Provider Details</button>
      </mat-menu>
    </ng-container>

  </div>

  <form class="entity-view__card__content" #smsInputForm="ngForm">
    <mat-form-field class="entity-view__card__content__item">
      <input readonly required matInput [disabled]="mode === modes.View" placeholder="Type" [(ngModel)]="entity.type" name="type" type="text">
    </mat-form-field>

    <mat-form-field [class.error]="formInvalid && !entity.name" class="entity-view__card__content__item">
      <input auto-focus required matInput [disabled]="mode === modes.View" placeholder="Name" [(ngModel)]="entity.name" name="name" type="text">
    </mat-form-field>

    <mat-form-field [class.error]="formInvalid && !entity.fromNumber" class="entity-view__card__content__item">
      <input required matInput [disabled]="mode === modes.View" placeholder="From Number" [(ngModel)]="entity.fromNumber" name="from" type="text">
    </mat-form-field>

    <mat-form-field [class.error]="formInvalid && !entity.apiAccount" class="entity-view__card__content__item">
      <input required matInput [disabled]="mode === modes.View" placeholder="Account SID" [(ngModel)]="entity.apiAccount" name="acc" type="text">
    </mat-form-field>

    <mat-form-field [class.error]="formInvalid && !entity.apiToken" class="entity-view__card__content__item">
      <input required matInput [disabled]="mode === modes.View" placeholder="API Token" [(ngModel)]="entity.apiToken" name="token" type="text">
    </mat-form-field>

  </form>

  <div *ngIf="mode !== modes.View" class="entity-view__card__actions">
    <div (click)="cancel.emit(true)">CANCEL</div>
    <div (click)="saveProvider(smsInputForm.form.valid)">SAVE</div>
  </div>
</div>

