<div *ngIf="entity" class="entity-view">
  <div class="entity-view__title">Product {{entity.name}}</div>

  <div (click)="navigation.back()" class="entity-view__change-mode"><md-icon>reply</md-icon></div>

  <div *ngIf="entity" class="entity-view__content">

    <div class="entity-view__content__title entity-view__content__title--first"> General Details </div>

    <div class="entity-view__content__fields">
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">ID:</span>
        <span>{{entity.id}}</span>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">Name:</span>
        <span *ngIf="listMode">{{entity.name}}</span>
        <md-input *ngIf="updateMode" [(ngModel)]="entity.name"></md-input>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">SKU:</span>
        <span *ngIf="listMode">{{entity.sku}}</span>
        <md-input *ngIf="updateMode" [(ngModel)]="entity.sku"></md-input>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">Ship:</span>
        <span *ngIf="listMode">{{entity.ship}}</span>
        <md-input *ngIf="updateMode" [(ngModel)]="entity.ship"></md-input>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">Shipping Delay:</span>
        <span *ngIf="listMode">{{entity.shippingDelay}}</span>
        <md-input class="input--small" *ngIf="updateMode" [(ngModel)]="entity.shippingDelay"></md-input>
      </div>
    </div>

    <div class="entity-view__content__title">
      Fulfillment Provider
      <md-icon *ngIf="updateMode" [md-menu-trigger-for]="providersMenu">add</md-icon>
    </div>

    <md-menu #providersMenu="mdMenu">
      <button md-menu-item *ngFor="let provider of fulfillmentProviders" (click)="selectFulfillmentProvider(provider)">
        {{provider.name}}
      </button>
    </md-menu>

    <div class="entity-view__content__fields">
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">ID:</span>
        <span>{{entity.fulfillmentProvider.id}}</span>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">Name:</span>
        <span> {{entity.fulfillmentProvider.name}}</span>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">Username:</span>
        <span>{{entity.fulfillmentProvider.username}}</span>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">Password:</span>
        <span>{{entity.fulfillmentProvider.password}} </span>
      </div>
      <div class="entity-view__content__fields__item">
        <span class="entity-view__content__fields__item__label">Endpoint:</span>
        <span>{{entity.fulfillmentProvider.endpoint}}</span>
      </div>
    </div>

    <div *ngIf="updateMode" class="entity-view__content__buttons">
      <div class="entity-view__content__buttons__update" (click)="updateEntity(entity)">Update</div>
      <div class="entity-view__content__buttons__cancel" (click)="cancelUpdate()">Cancel</div>
    </div>
  </div>
</div>
