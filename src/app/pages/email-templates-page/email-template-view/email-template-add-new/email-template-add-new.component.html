<div class="entity-view__card input-form" [class.entity-view__card--create]="mode === modes.Add" [class.entity-view__card--update]="mode === modes.Update">
  <div class="entity-view__card__header" *ngIf="mode === modes.Add">
    <div class="entity-view__card__header__title">{{'EMAILTEMPLATE_INFO_CREATETITLE' | translate}}</div>
  </div>

  <form form #emailTemplateInput="ngForm" class="entity-view__card__content" [class.entity-view__card__content--update]="mode === modes.Update">
    <mat-form-field [class.error]="formInvalid && !entity.name" class="entity-view__card__content__item email-template-view__input">
      <input auto-focus required matInput [disabled]="mode === modes.View" placeholder="{{'EMAILTEMPLATE_INFO_NAME' | translate}}" name="name" [(ngModel)]="entity.name" type="text">
    </mat-form-field>

    <dropdown-component class="email-template-view__dropdown"
                        [class.error]="formInvalid && !entity.type"
                        [disabled]="mode === modes.View"
                        [options]="types"
                        [mapper]="typeMapper"
                        [selected]="entity.type"
                        [placeholder]="'EMAILTEMPLATE_INFO_TYPE' | translate"
                        (onSelect)="entity.type = $event">
    </dropdown-component>

    <dropdown-component class="email-template-view__dropdown"
                        *ngIf="smtpProviders.length"
                        [class.error]="formInvalid && !entity.smtpProvider.id"
                        [disabled]="mode === modes.View"
                        [options]="smtpProviders"
                        [mapper]="smtpProviderMapper"
                        [selected]="entity.smtpProvider"
                        [placeholder]="'EMAILTEMPLATE_INFO_SMTPPROVIDER' | translate"
                        (onSelect)="entity.smtpProvider = $event">
    </dropdown-component>
    <div [routerLink]="['/smtpproviders']" class="text" *ngIf="!smtpProviders.length">You need to create an SMTP provider first.</div>

    <mat-form-field [class.error]="formInvalid && !entity.subject" class="entity-view__card__content__item">
      <input required matInput [disabled]="mode === modes.View" name="subject" placeholder="{{'EMAILTEMPLATE_INFO_SUBJECT' | translate}}" [(ngModel)]="entity.subject" type="text">
    </mat-form-field>
  </form>

  <div *ngIf="mode !== modes.View" class="entity-view__card__actions" [class.entity-view__card__actions--update]="mode === modes.Update">
    <div *ngIf="mode !== modes.Update" (click)="cancelUpdate()">{{'EMAILTEMPLATE_INFO_CANCEL' | translate}}</div>
    <div (click)="saveEmailTemplate(emailTemplateInput.form.valid)">{{'EMAILTEMPLATE_INFO_SAVE' | translate}}</div>
  </div>
</div>
