<div>

  <div class="title">
    <button mat-button (click)="newNote()" class="add-button">ADD A NOTE</button>
    <div>{{notes.length || 0}} Notes</div>
  </div>

  <div class="container">

    <div class="note" *ngFor="let n of notes">

      <div class="header">
        <div class="author">{{n.user.name}}</div>
        <div class="date">{{n.createdAt.tz(authService.getTimezone()).format('MM/DD/YY')}}</div>
        <mat-icon [matMenuTriggerFor]="actionsMenu">more_vert</mat-icon>
        <mat-menu #actionsMenu="matMenu" x-position="before">
          <button mat-menu-item (click)="deleteEntity(n.id)">Delete Note</button>
          <button mat-menu-item (click)="editNote(n)">Edit Note</button>
        </mat-menu>
      </div>

      <div class="body">{{n.body}}</div>

    </div>

    <div *ngIf="showNewNote || showEditNote" class="new">
      <mat-form-field>
        <textarea auto-focus matInput [(ngModel)]="note"></textarea>
      </mat-form-field>

      <div class="new__actions">
        <mat-icon (click)="closeNote()" class="new__actions__close">clear</mat-icon>
        <mat-icon (click)="saveOrUpdateNote()" class="new__actions__done">done</mat-icon>
      </div>
    </div>

  </div>

</div>
