<account-management-header
  [path]="['General']"
  [account]="account"
  [showApiKey]="true">
</account-management-header>

<div class="account-management-body">

  <div class="column">

    <div class="card" *ngIf="accountBackup">
      <div class="title">Account Name</div>
      <div class="body">
        <mat-input-container>
          <input type="text" matInput [(ngModel)]="accountBackup.name" placeholder="Account Name">
        </mat-input-container>
      </div>
      <div class="buttons">
        <button mat-button
                [disabled]="accountBackup.name === account.name"
                (click)="cancelAccountUpdate()">
          Cancel
        </button>
        <button mat-button
                [disabled]="accountBackup.name === account.name"
                [class.button-disabled]="accountBackup.name === account.name"
                (click)="updateCustomer()">
          Save
        </button>
      </div>
    </div>

    <div *ngIf="session" class="card">
      <div class="title">Contact Information</div>
      <div class="body">
        <mat-input-container>
          <input type="text" readonly matInput placeholder="Name" value="{{session.customer.firstName}} {{session.customer.lastName}}">
        </mat-input-container>

        <mat-input-container>
          <input type="text" readonly matInput placeholder="Email" value="{{session.customer.email}}">
        </mat-input-container>

        <mat-input-container>
          <input type="text" readonly matInput placeholder="Phone Number" value="{{session.customer.phone}}">
        </mat-input-container>
      </div>
    </div>
  </div>

  <div *ngIf="session" class="column">
    <div class="card">
      <div class="title">Cards on file</div>

      <div class="credit-card" *ngFor="let card of session.customer.creditCards">

        <img *ngIf="card.type !== 'OTHER'" src="{{'/assets/cards/' + (card.type || '').toLowerCase() + '.svg'}}">

        <div class="info">
          <div class="number">**** **** **** {{card.lastFour}}</div>
          <div class="data">{{card.name}}</div>
          <div class="data">Expires {{card.expiration}}</div>
        </div>

        <div class="actions">
          <mat-icon>delete</mat-icon>
          <mat-icon>edit</mat-icon>
        </div>
      </div>
    </div>
  </div>

</div>
