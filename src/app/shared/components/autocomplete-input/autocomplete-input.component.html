<div class="default-autocomplete-input">
  <div class="default-autocomplete-input__input">
    <md-input-container [class.default-autocomplete-input__input--full-width]="fullWidth">
      <input #input md-input autocomplete=off autoFocus [applyAutofocus]="applyAutofocus" (ngModelChange)="change($event)" (input)="valueChanged.emit($event)" [ngModel]="currentValue" (keydown)="onKey($event)" [required]="required" (blur)="blurred()" (focus)="focused()" (click)="focused()" [disabled]="disabled" placeholder="{{placeholder}}" type="text">
    </md-input-container>
    <md-icon [class.rotated]="showOptions" *ngIf="showArrow" (click)="arrowClicked(input)">keyboard_arrow_down</md-icon>
  </div>
  <div #optionsContainer class="default-autocomplete-input__options" *ngIf="showOptions && filteredOptions.length > 0">
    <div #autocompleteOption
         class="default-autocomplete-input__options__item"
         *ngFor="let option of filteredOptions; let i = index;"
         (click)="optionSelected(option)"
         [class.focused]="focusedOptionIndex === i">
      {{mapFunction(option)}}
    </div>
  </div>
</div>
