<div class="split-wrapper">
  <div class="container">
    <div class="content">
      <div class="section section--main" [class.section--full]="!selectedCycle">

        <left-rail
             [title]="getTitle()"
             [cycleProducts]="cycleProducts"
             [selectedCycle]="selectedCycle"
             (addNewCycle)="addNewCycle()">
        </left-rail>

        <div class="editor-container">
          <editor
             [productSchedule]="productSchedule"
             [zoomLevel]="zoomLevel"
             (cycleUpdated)="editMode = true;"
             (reorganizeCycles)="reorganizeCycles($event)"
             (cycleSelected)="cycleSelected($event)">
          </editor>
          <toolbar
              [zoomLevel]="zoomLevel"
              [editMode]="editMode"
              (zoomLevelChanged)="zoomLevel = $event"
              (edit)="editMode = true"
              (cancel)="cancelUpdates()"
              (save)="save()"
              (undo)="undo()"
              (redo)="redo()">
          </toolbar>
        </div>

      </div>

      <div class="section section--side" [class.section--invisible]="!selectedCycle">

        <cycle-info
          (nextCycleChanged)="nextCycleChanged($event)"
          (granularityChanged)="granularityChanged($event)"
          (deleteSelectedCycle)="deleteSelectedCycle($event)"
          [editMode]="editMode"
          [selectedCycle]="selectedCycle"
          [numberOfCycles]="productSchedule.cycles.length">
        </cycle-info>

      </div>
    </div>
  </div>
</div>
