<div class="search">
  <div class="search__layout">
    <div class="search__sidenav">
      <md-nav-list>
        <div class="search__sidenav__query__container">
          <md-input (focus)="showAutoComplete()" [value]="queryString" (input)="inputChanged($event)" (blur)="hideAutoComplete()">
            <md-icon class="search__sidenav__query__icon" md-prefix>search</md-icon>
          </md-input>
          <autocomplete *ngIf="showAutocomplete && options.length > 0" (select)="optionSelected($event)" [options]="options"></autocomplete>
        </div>
        <button class="search__sidenav__button--search" md-raised-button color="primary" (click)="navigateSearch()">Search</button>

        <md-checkbox *ngIf="entityTypesCount['campaign']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['campaign']" (change)="checkboxClicked()">
          Campaign
          <span>({{entityTypesCount['campaign']}})</span>
        </md-checkbox>
        <md-checkbox *ngIf="entityTypesCount['customer']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['customer']" (change)="checkboxClicked()">
          Customer
          <span>({{entityTypesCount['customer']}})</span>
        </md-checkbox>
        <md-checkbox *ngIf="entityTypesCount['user']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['user']" (change)="checkboxClicked()">
          User
          <span>({{entityTypesCount['user']}})</span>
        </md-checkbox>
        <md-checkbox *ngIf="entityTypesCount['billing']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['billing']" (change)="checkboxClicked()">
          Billing
          <span>({{entityTypesCount['billing']}})</span>
        </md-checkbox>
        <md-checkbox *ngIf="entityTypesCount['transaction']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['transaction']" (change)="checkboxClicked()">
          Transaction
          <span>({{entityTypesCount['transaction']}})</span>
        </md-checkbox>
        <md-checkbox *ngIf="entityTypesCount['product']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['product']" (change)="checkboxClicked()">
          Product
          <span>({{entityTypesCount['product']}})</span>
        </md-checkbox>
        <md-checkbox *ngIf="entityTypesCount['fulfillment']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['fulfillment']" (change)="checkboxClicked()">
          Fulfillment
          <span>({{entityTypesCount['fulfillment']}})</span>
        </md-checkbox>
        <md-checkbox *ngIf="entityTypesCount['productschedule']" class="search__sidenav__item" [(ngModel)]="entityTypesChecked['productschedule']" (change)="checkboxClicked()">
          Product Schedule
          <span>({{entityTypesCount['productschedule']}})</span>
        </md-checkbox>

        <div class="search__sidenav__divider"></div>

        <span class="search__sidenav__title search__sidenav__title--after"> Refined by Date </span>
        <span class="search__sidenav__subtitle"> Date </span>

        <span class="search__sidenav__title search__sidenav__title--after"> Refined by </span>
        <span class="search__sidenav__subtitle"> Brand </span>
        <md-checkbox class="search__sidenav__item">Brand One</md-checkbox>
        <md-checkbox class="search__sidenav__item">Brand Two</md-checkbox>
        <md-checkbox class="search__sidenav__item">Brand Three</md-checkbox>

        <span class="search__sidenav__subtitle"> Merchant </span>
        <md-checkbox class="search__sidenav__item">Merchant One</md-checkbox>
        <md-checkbox class="search__sidenav__item">Merchant Two</md-checkbox>
        <md-checkbox class="search__sidenav__item">Merchant Three</md-checkbox>

        <span class="search__sidenav__subtitle"> Product Category </span>
        <md-checkbox class="search__sidenav__item">Diet</md-checkbox>
        <md-checkbox class="search__sidenav__item">Muscle</md-checkbox>
        <md-checkbox class="search__sidenav__item">Skin</md-checkbox>

        <span class="search__sidenav__subtitle"> Sale Type </span>
        <md-checkbox class="search__sidenav__item">Trial</md-checkbox>
        <md-checkbox class="search__sidenav__item">Straight</md-checkbox>
      </md-nav-list>
    </div>

    <div class="search__content">
      <div class="search__content__title">
        <span>Search Results</span>
        <table-pagination
          class="search__content__pagination"
          [limit]="limit"
          [paginationValues]="paginationValues"
          [previousDisabled]="page <= 0"
          [nextDisabled]="!hasMorePages()"
          (previous)="previous()"
          (next)="next()"
          (updateLimit)="updateLimit($event)">
        </table-pagination>
      </div>

      <ng-container *ngFor="let res of searchResultsToDispaly">
        <result-item [fields]="res.fields" [id]="res.id" [entityType]="res.fields.entity_type" [queryString]="queryString" (showDetails)="showResult($event)"></result-item>
      </ng-container>

      <result-item-details
        *ngIf="showResultDetails"
        [id]="resultId"
        [entityType]="resultEntityType"
        (closeDetails)="hideResultDetails()">
      </result-item-details>

      <table-pagination
        *ngIf="searchResultsToDispaly.length >= 5"
        class="search__content__pagination--bottom"
        [limit]="limit"
        [paginationValues]="paginationValues"
        [previousDisabled]="page <= 0"
        [nextDisabled]="!hasMorePages()"
        (previous)="previous()"
        (next)="next()"
        (updateLimit)="updateLimit($event)">
      </table-pagination>
    </div>
  </div>
</div>
